# CDM to Box-c Migration Util

To build:
```
mvn clean install
```

Basic Usage:
```
java -jar target/cdm2bxc.jar
```

## Project Structure
A migration project initialized using this utility will produce a directory with the following structure:
* <project name> - root directory for the project, named using the project name provided during initialization
	* .project.json - Properties tracked by the migration utility about the current migration project.
	* access_files.csv - Produced by the `access_files` command. Maps CDM IDs to paths where access files to be migrated are located.
	* cdm_fields.csv - Produced by the `init` command. Contains the list of fields for the CDM collection being migrated. This file may be edited in order to rename or exclude fields prior to `export`. Nicknames and export names must be unique.
	* cdm_index.db - Produced by the `index` command. This is a sqlite3 database containing all of the exported data for the CDM collection being migrated. It can be edited, but should be handled with care as it will be used for almost all other commands.
	* descriptions/ - Directory in which user produced mods:modsCollection files should be placed, containing mods records for objects being migrated. The names of the files do not matter, except that they must be .xml files. The MODS records within the collections must contain a CDM IDs in the form `<mods:identifier type="local" displayLabel="CONTENTdm number">27</mods:identifier>`.
	* destinations.csv - Produced by the `destinations` command. CSV document which maps CDM ids to Box-c deposit destinations, and optionally, new collections.
	* exports/ - Directory generated by the `export` command. Contains one or more .xml files containing exported CDM records.
	* newCollectionDescriptions/ - Directory in which user produced mods:mods documents describing newly generated Box-c collections should be placed. The files must be named using the same identifier used for the new collections in the destination.csv file.
	* sips/ - Directory generated by the `sips` command. Contains submission information packages produced for submission to the repository. Within this directory will by subdirectories named based on the UUID of the deposit produced. The contents of these directories follows the standard box-c deposit pipeline layout.
	* source_files.csv - Produced by the `source_files` command. Maps CDM IDs to paths where source files to be migrated are located.